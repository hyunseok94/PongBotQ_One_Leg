cmake_minimum_required(VERSION 3.0.2)
project(xenomai_test)


SET (SRC_FILES 
 main.cpp
)


LIST(APPEND CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR})

# appended to the catkin_variables(catkin_INCLUDE_DIRS contains the include paths for this lists)
#find_package(catkin REQUIRED COMPONENTS 
# std_msgs
# message_generation
#)

#catkin_package(
#  INCLUDE_DIRS include   # "include" folder 
#  LIBRARIES elmo_pkgs
#  CATKIN_DEPENDS other_catkin_pkg
#  DEPENDS system_lib
#)

# *_INCLUDE_DIRS variables generated by find_package calls
## "include" indicates that the "include/" directory within the package is also part of the path
# include paths - where can header files be found for the code being built
# library paths - where are libraries located that executalbe target build against

include_directories(
 include
 ${catkin_INCLUDE_DIRS}
 /usr/xenomai/include/cobalt
 /usr/xenomai/include/
 /usr/xenomai/include/alchemy
 /usr/xenomai/lib
 /usr/xenomai/
 ../../include/PCAN/drvier
 ../../include/PCAN/lib
)

# Xenomai setting
#execute_process(COMMAND /usr/xenomai/bin/xeno-config --skin=alchemy --rtdm --cflags OUTPUT_VARIABLE XENO_CFLAGS OUTPUT_STRIP_TRAILING_WHITESPACE)
#execute_process(COMMAND /usr/xenomai/bin/xeno-config --skin=alchemy --rtdm --ldflags OUTPUT_VARIABLE XENO_LDFLAGS OUTPUT_STRIP_TRAILING_WHITESPACE)
#SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g ${XENO_CFLAGS} ${XENO_LDFLAGS} -lalchemy -lcopperplate -D_GNU_SOURCE -D_REENTRANT -D__COBALT__")
## Xenomai Setting end

# To Set executable file's location to ${PROJECT_SOURCE_DIR}/bin.
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/bin)

# To specify an executable target that must be buillt.


#add_executable(xenomai_test_exe main.cpp)
add_executable(xenomai_test_exe ${SRC_FILES})


